# M7: 調整 & 性能検証（最適化 / 信頼性向上）

## Goal
- 10万レコードを 15 分以内で処理（concurrency=40, 平均ネットワーク正常）し、false positive < 1% を達成。

## Scope（FR/NFR）
- NFR-001, NFR-002, NFR-003, NFR-004, NFR-006

## Deliverables
- ベンチマークスクリプト（fixtures: 100/10k/100k）
- 設定プリセット（高遅延/低遅延/厳格ルール）
- 調整レポート（ボトルネック/改善前後の比較）

## Tasks
- [ ] p-limit とレートリミットの最適化（バーストと平滑の併用）
- [ ] DNS/HTTP タイムアウト/再試行のチューニング（ジッタ幅）
- [ ] キャッシュヒット率の計測 & TTL 共有の見直し
- [ ] メモリプロファイル（チェイン保持の上限・ストリーム化）
- [ ] 進捗計算のオーバーヘッド削減（更新間隔/集計粒度）
- [ ] ログ出力の I/O 最適化（バッファリング）
- [ ] エラー種別の統計を基にルール重みを再調整
- [ ] 実測 10万行で 3 回連続ベンチ、中央値で NFR-001 を満たす

## Definition of Done
- NFR を満たす実測値を README に記録
- 既知の不安定要因に対する緩和策（設定プリセット）が揃う
